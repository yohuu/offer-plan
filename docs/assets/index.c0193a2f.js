import{c as e,N as t,a,b as l,d as n,e as r,f as o,g as s,o as i,h as d,i as u,j as c,r as f,k as p,u as y,l as m,w as b,m as h,n as v,C as k,p as g,q as x,s as D,t as S,v as C,x as w,y as _,z as N,F as W,A as O,B as T}from"./vendor.ab8d671a.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var E=e({components:[t,a,l,n,r,o,s]});const I={},M={id:"Header"};I.render=function(e,t){return i(),d("div",M,"应聘计划表")};var $=u({props:{date:Number,td:Object,th:Object},emits:["DateUpdate"],setup(e,{emit:t}){const a=e,l=c({get:()=>a.date,set:e=>{var l,n;t("DateUpdate",{date:e,tdIdx:null==(l=null==a?void 0:a.td)?void 0:l.idx,thIdx:null==(n=null==a?void 0:a.th)?void 0:n.key})}});return(e,t)=>{const a=f("n-date-picker");return i(),p(a,{value:y(l),"onUpdate:value":t[0]||(t[0]=e=>m(l)?l.value=e:null),type:"datetime",clearable:"",size:"small"},null,8,["value"])}}});const z={id:"CalendarWrap"},A={class:"calendar-header"},Y=w(" 上一月 "),F=w("下一月"),L={class:"current-date"},U=x("div",{id:"calendar",style:{height:"800px"}},null,-1);var j=u({props:{schedules:Array,schedulesFrame:Array},setup(e){var t;const a=e,l={};let n;null==(t=a.schedulesFrame)||t.forEach((e=>{l[e.key]=e.label}));let r=[];b((()=>{var e;r=[],null==(e=a.schedules)||e.forEach(((e,t)=>{e&&Object.keys(e).forEach((a=>{if("Company"!==a&&"idx"!==a){const n=new Date(e[a]+288e5),o=new Date(e[a]+288e5+72e5),s=n.toJSON().split("T")[1].split(".")[0],i={id:`${e.idx}_${a}_${t}`,calendarId:`${e.idx}_${a}_${t}`,title:`${e.Company}-${l[a]}-${s}`,category:"time",dueDateClass:"",start:n.toJSON(),end:o.toJSON(),color:"#ffffff",bgColor:"#9e5fff",dragBgColor:"#9e5fff",borderColor:"#9e5fff"};r.push(i)}}))})),n&&(n.clear(!0),n.createSchedules(r),n.render())}));let o=h("");v((()=>{n=new k("#calendar",{defaultView:"month",scheduleView:!0,template:{milestone:function(e){return'<span style="color:red;"><i class="fa fa-flag"></i> '+e.title+"</span>"},milestoneTitle:function(){return"Milestone"},task:function(e){return"&nbsp;&nbsp;#"+e.title},taskTitle:function(){return'<label><input type="checkbox" />Task</label>'},allday:function(e){return e.title+' <i class="fa fa-refresh"></i>'},alldayTitle:function(){return"All Day"},time:function(e){return e.title+' <i class="fa fa-refresh"></i>'}},week:{daynames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],startDayOfWeek:0,narrowWeekend:!0},month:{daynames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],startDayOfWeek:0,narrowWeekend:!0},calendars:[],useCreationPopup:!1,useDetailPopup:!1,timezone:{zones:[{timezoneName:"Asia/Seoul",displayLabel:"GMT+09:00",tooltip:"Seoul"},{timezoneName:"America/New_York",displayLabel:"GMT-05:00",tooltip:"New York"}],offsetCalculator:function(e,t){return g.parseZone(t).utcOffset()}}}),n.clear(!0),n.createSchedules(r),n.render(),s()}));const s=()=>{const e=g([n.getDate().getFullYear(),n.getDate().getMonth(),n.getDate().getDate()]);o.value=e.format("YYYY.MM")},u=()=>{n.prev(),s()},c=()=>{n.next(),s()};return(e,t)=>{const a=f("n-button"),l=f("n-button-group");return i(),d("div",z,[x("div",A,[D(l,null,{default:S((()=>[D(a,{onClick:u,ghost:"",round:""},{default:S((()=>[Y])),_:1}),D(a,{onClick:c,ghost:"",round:""},{default:S((()=>[F])),_:1})])),_:1}),x("span",L,C(y(o)),1)]),U])}}});const J=w(" 本页所有数据均保存在浏览器的缓存中，清除浏览器缓存后计划将不被保存，清空缓存前记得截图保存！ "),P=w("删除"),R={key:3},q=w("添加新公司");var B=u({setup(e){const t=[{key:"Company",label:"公司",visible:!0,textState:"R"},{key:"ResumeDelivery",label:"简历开始投递",visible:!0,textState:"W"},{key:"WrittenExamination",label:"笔试",visible:!0,textState:"W"},{key:"Interview",label:"面试",visible:!0,textState:"W"},{key:"EditCell",label:"操作项",visible:!0,textState:"E"}];let a=[];try{a=JSON.parse(localStorage.getItem("offer_plan_date")||"")||a}catch(o){a=[]}let l=_({tbodyData:a});N(l,(e=>{localStorage.setItem("offer_plan_date",JSON.stringify(e.tbodyData))}),{deep:!0});const n=e=>{l.tbodyData.forEach((t=>{t.idx===e.tdIdx&&(t[e.thIdx]=e.date)}))},r=()=>{const e={idx:l.tbodyData.length?l.tbodyData[l.tbodyData.length-1].idx+1:0,Company:"mt",ResumeDelivery:1631448353e3,WrittenExamination:1631448363e3,Interview:1631448373e3};l.tbodyData.push(e)};return(e,a)=>{const o=f("n-alert"),s=f("n-input"),u=f("n-button"),c=f("n-table");return i(),d(W,null,[D(o,{title:"提示",type:"warning"},{default:S((()=>[J])),_:1}),D(c,{bordered:!1,"single-line":!1},{default:S((()=>[x("thead",null,[x("tr",null,[(i(),d(W,null,O(t,(e=>x("th",null,C(e.label),1))),64))])]),x("tbody",null,[(i(!0),d(W,null,O(y(l).tbodyData,(e=>(i(),d("tr",null,[(i(),d(W,null,O(t,(t=>x("td",null,["Company"===t.key?(i(),p(s,{key:0,value:e[t.key],"onUpdate:value":a=>e[t.key]=a,type:"text",size:"small",placeholder:"输入公司名称",round:""},null,8,["value","onUpdate:value"])):"W"===t.textState?(i(),p($,{key:1,date:e[t.key],td:e,th:t,onDateUpdate:n},null,8,["date","td","th"])):"E"===t.textState?(i(),p(u,{key:2,onClick:t=>{return a=e.idx,void(l.tbodyData=l.tbodyData.filter((e=>a!==e.idx)));var a},type:"error",dashed:"",size:"tiny"},{default:S((()=>[P])),_:2},1032,["onClick"])):(i(),d("span",R," -- "))]))),64))])))),256))])])),_:1}),D(u,{onClick:r,type:"primary",class:"add-new-company",ghost:""},{default:S((()=>[q])),_:1}),D(j,{schedules:y(l).tbodyData,"schedules-frame":t},null,8,["schedules"])],64)}}});const G=T(u({setup:e=>(e,t)=>(i(),d(W,null,[D(I),D(B)],64))}));G.use(E),G.mount("#app");
